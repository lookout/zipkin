scala_library(
  name='scala',
  dependencies=[
    '3rdparty/jvm/com/github/spullara/mustache/java:mustache-compiler',
    '3rdparty/jvm/com/twitter/algebird:core',
    '3rdparty/jvm/com/twitter/common/zookeeper:server-set',
    '3rdparty/jvm/com/twitter/common:stats-util',
    'finagle/finagle-exception',
    'finagle/finagle-serversets',
    'finagle/finagle-thriftmux',
    'finagle/finagle-zipkin',
    'twitter-server',
    'zipkin/oss/zipkin-common',
    'zipkin/oss/zipkin-scrooge',
  ],
  sources=rglobs('*.scala'),
  resources=[
    'zipkin/oss/zipkin-web/src/main/resources'
  ]
)

jvm_binary(
  name='bin',
  basename='zipkin-web-server',
  main='com.twitter.zipkin.web.Main',
  dependencies=[':scala'],
)
